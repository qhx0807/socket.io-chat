<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <!-- <meta name="viewport" content="width=device-width, initial-scale=1.0"> -->
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>socket.io chat</title>
    <link rel="stylesheet" href="index.css">
</head>

<body>
    <style>
        .slide-fade-enter-active {
            transition: all .5s ease;
        }

        .slide-fade-leave-active {
            transition: all .5s cubic-bezier(1.0, 0.5, 0.8, 1.0);
        }

        .slide-fade-enter,
        .slide-fade-leave-to {
            transform: translateX(10px);
            opacity: 0;
        }
       
    </style>
    
        <canvas id="canvas"></canvas>
        <div id="app">
            <transition name="slide-fade">
                <div class="content" v-if="show">
                    <div class="con-body">
                        <ul>
                            <li style="text-align:center"><span class="tips">12:09</span></li>
                            <li>
                                <img class="avatar" src="avatar.png" alt="">
                                <span class="msg">
                                    <div class="triangle-left"></div>
                                    Hello!用 CSS 绘制三角形，不难看出，当盒子内容的宽度和高度远小于边框的时候，边框的显示为等腰梯形。由此我们可以推断，当我们将 div 的宽高都设为 0 的时候，代表盒子内容的白色正方形会消失，于此同时，边框显示为等腰三角形
                                </span>
                            </li>
                            <li style="text-align:center"><span class="tips">12:18</span></li>
                            <li style="float:right">
                                <span class="msg green">
                                    <div class="triangle-right"></div>
                                    Hello!用 CSS 绘制三角形，不难看出，当盒子内容的宽度和高度远小于边框的时候，边框的显示为等腰梯形。由此我们可以推断，当我们将 div 的宽高都设为 0 的时候，代表盒子内容的白色正方形会消失，于此同时，边框显示为等腰三角形
                                </span>
                                <img class="avatar" src="http://os70o8m36.bkt.clouddn.com/4.jpg" alt="">
                            </li>
                            <li>
                                <img class="avatar" src="avatar.png" alt="">
                                <span class="msg">
                                    <div class="triangle-left"></div>
                                    Hello!用 CSS 绘制三角形，不难看出
                                </span>
                            </li>
                            <li>
                                <img class="avatar" src="avatar.png" alt="">
                                <span class="msg">
                                    <div class="triangle-left"></div>
                                    Hello!
                                </span>
                            </li>
                            <li>
                                <img class="avatar" src="avatar.png" alt="">
                                <span class="msg">
                                    <div class="triangle-left"></div>
                                    Hello!
                                </span>
                            </li>
                            <li style="float:right">
                                <span class="msg green">
                                    <div class="triangle-right"></div>不难看出，当盒子内容的宽度和高度远小于边框的
                                </span>
                                <img class="avatar" src="http://os70o8m36.bkt.clouddn.com/4.jpg" alt="">
                            </li>
                            <li style="float:right">
                                <span class="msg green">
                                    <div class="triangle-right"></div>不难看出，当盒子内容的宽度和高盒子内容的宽度和高盒子内容的宽度和高盒子内容的宽度和高度远小于边框的
                                </span>
                                <img class="avatar" src="http://os70o8m36.bkt.clouddn.com/4.jpg" alt="">
                            </li>
                        </ul>
    
                    </div>
                    <div class="con-foot">
                        <img class="icon" src="icon.png" alt="">
                        <textarea id="msginput"></textarea>
                        <button class="sendbtn">发送(Enter)</button>
                    </div>
                </div>
            </transition>
        </div>
   
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.4.0/vue.js"></script>
    
    <script src="http://lib.baomitu.com/socket.io/2.0.3/socket.io.slim.js"></script>
    <script src="canvas.js"></script>
    <script>
        new Vue({
            el: '#app',
            data: {
                msgData: [
                    {
                        time: '2017-09-27 14:21',
                        name: '',
                        message: '',
                        avatar: '',
                        type: 0,
                    },
                ],
                myName: '',
                myAvatar: '',
                show: true,
            },
            created() {

            },
            mounted() {
                var socket = io('http://localhost:3000');
                var t = this;
                socket.on('connect', function () {
                    var nowTime = new Date().Format("yyyy-MM-DD hh:mm:ss");
                    socket.emit('notify event',
                        {
                            time: nowTime,
                            name: t.myName,
                            message: '连接成功！',
                            avatar: t.myAvatar,
                            type: 0,
                        }
                    )

                });
                socket.on('notify event', function (obj) {
                    console.log(obj)
                })

                socket.on('news', function (data) {
                    console.log(data);
                });
            },
            methods: {

            }
        })
    </script>
</body>

</html>